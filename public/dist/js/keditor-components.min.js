!function(o){var t=jQuery.keditor,e=t.log;t.components.audio={getContent:function(o,t){e('getContent "audio" component, component');var n=o.children(".keditor-component-content");return n.find("audio").unwrap(),n.html()},settingEnabled:!0,settingTitle:"Audio Settings",initSettingForm:function(o,t){e('init "audio" settings',o),o.append('<form class="form-horizontal">     <div class="form-group">         <label for="audioFileInput" class="col-sm-12">Audio file</label>         <div class="col-sm-12">             <div class="audio-toolbar">                 <a href="#" class="btn-audioFileInput btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>                 <input id="audioFileInput" type="file" style="display: none" />             </div>         </div>     </div>     <div class="form-group">         <label for="audio-autoplay" class="col-sm-12">Autoplay</label>         <div class="col-sm-12">             <input type="checkbox" id="audio-autoplay" />         </div>     </div>     <div class="form-group">         <label for="audio-showcontrols" class="col-sm-12">Show Controls</label>         <div class="col-sm-12">             <input type="checkbox" id="audio-showcontrols" checked />         </div>     </div>     <div class="form-group">         <label for="audio-width" class="col-sm-12">Width (%)</label>         <div class="col-sm-12">             <input type="number" id="audio-width" min="20" max="100" class="form-control" value="100" />         </div>     </div></form>')},showSettingForm:function(o,t,n){e('showSettingForm "audio" component',o,t);var i=n.options,l=t.find("audio"),s=o.find("#audioFileInput");o.find(".btn-audioFileInput").off("click").on("click",function(o){o.preventDefault(),s.trigger("click")}),s.off("change").on("change",function(){var o=this.files[0];/audio/.test(o.type)?(l.attr("src",URL.createObjectURL(o)),l.load(function(){n.showSettingPanel(t,i)})):alert("Your selected file is not an audio file!")}),o.find("#audio-autoplay").off("click").on("click",function(o){this.checked?l.attr("autoplay","autoplay"):l.removeAttr("autoplay")}),o.find("#audio-showcontrols").off("click").on("click",function(o){this.checked?l.attr("controls","controls"):l.removeAttr("controls")}),o.find("#audio-width").off("change").on("change",function(){l.css("width",this.value+"%")})}}}(),function(o){var t=o.keditor,e=t.log;t.components.form={initFormBuilder:function(o){var t=this,e=o.find(".form-builder-area"),n=o.find(".form-data"),i=o.find(".form-content");o.find(".keditor-component-content").prepend('<p class="form-builder-tools" style="text-align: right;">    <a href="#" class="btn btn-primary btn-preview-form">Preview form</a>     <a href="#" class="btn btn-info btn-edit-form disabled">Edit form</a></p>');var l=o.find(".btn-edit-form"),s=o.find(".btn-preview-form");e.formBuilder({disableInjectedStyle:!0,showActionButtons:!1,dataType:"json",formData:n.html(),disableFields:["autocomplete","paragraph","header"],disabledAttrs:["access"],typeUserDisabledAttrs:{"checkbox-group":["toggle","inline"]}}),l.on("click",function(o){o.preventDefault(),l.hasClass("disabled")||(e.show(),i.hide(),l.addClass("disabled"),s.removeClass("disabled"))}),s.on("click",function(n){n.preventDefault(),s.hasClass("disabled")||(t.renderForm(o),e.hide(),i.show(),l.removeClass("disabled"),s.addClass("disabled"))})},renderForm:function(t,e){var n=t.find(".form-content");e||(e=t.find(".form-builder-area").data("formBuilder"));n.formRender({dataType:"json",formData:e.actions.getData("json")}),n.hasClass("form-horizontal")&&n.children("div").each(function(){var t=o(this),e=n.attr("data-grid")||"4-8";if(e=e.split("-"),t.attr("class"))if(t.hasClass("fb-button"))t.find("button").wrap('<div class="col-sm-'+e[1]+" col-sm-offset-"+e[0]+'"></div>');else{var i=t.children("label"),l=t.children("input, select, textarea"),s=t.children("div");i.addClass("control-label col-sm-"+e[0]),s.length>0?s.addClass("col-sm-"+e[1]):l.addClass("form-control").wrap('<div class="col-sm-'+e[1]+'"></div>')}})},init:function(t,n,i,l){e('init "form" component',i);var s=i.find(".keditor-component-content"),a=i.find(".form-builder-area"),r=i.find(".form-content");0===i.find(".form-data").length&&s.append('<div class="form-data" style="display: none !important;"></div>'),0===r.length?s.append('<form class="form-content" style="display: none !important;"></form>'):r.hide(),0===a.length&&(a=o('<div class="form-builder-area clearfix"></div>'),s.append(a)),this.initFormBuilder(i)},getContent:function(t,n){e('getContent "form" component',t);var i=t.find(".keditor-component-content"),l=t.find(".form-data"),s=o("#"+t.attr("id")).find(".form-builder-area").data("formBuilder");return this.renderForm(t,s),l.html(s.actions.getData("json")),t.find(".form-builder-area, .form-builder-tools").remove(),t.find(".form-content").show(),i.html()},settingEnabled:!0,settingTitle:"Form Settings",initSettingForm:function(o,t){e('initSettingForm "form" component');var n=this;o.html('<div class="form-horizontal">    <div class="form-group">        <label class="col-sm-12">Action</label>        <div class="col-sm-12">            <input type="text" class="form-control txt-form-action" />        </div>    </div>    <div class="form-group">        <label class="col-sm-12">Method</label>        <div class="col-sm-12">            <select class="form-control select-method">                <option value="get">Get</option>                <option value="post">Post</option>                <option value="put">Put</option>                <option value="delete">Delete</option>            </select>        </div>    </div>    <div class="form-group">        <label class="col-sm-12">Enctype</label>        <div class="col-sm-12">            <select class="form-control select-enctype">                <option value="text/plain">text/plain</option>                <option value="multipart/form-data">multipart/form-data</option>                <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>            </select>        </div>    </div>    <div class="form-group">        <label class="col-sm-12">Layout</label>        <div class="col-sm-12">            <select class="form-control select-layout">                <option value="">Normal</option>                <option value="form-horizontal">Horizontal</option>                <option value="form-inline">Inline</option>            </select>        </div>    </div>    <div class="form-group select-grid-wrapper">        <label class="col-sm-12">Grid setting</label>        <div class="col-sm-12">            <select class="form-control select-grid">                <option value="2-10">col-2 col-10</option>                <option value="3-9">col-3 col-9</option>                <option value="4-8">col-4 col-8</option>                <option value="5-7">col-5 col-7</option>                <option value="6-6">col-6 col-6</option>            </select>            <small class="help-block">This setting is for width of label and control with number of cols as unit</small>        </div>    </div></div>'),o.find(".txt-form-action").on("change",function(){t.getSettingComponent().find(".form-content").attr("action",this.value)}),o.find(".select-method").on("change",function(){t.getSettingComponent().find(".form-content").attr("action",this.value)}),o.find(".select-enctype").on("change",function(){t.getSettingComponent().find(".form-content").attr("enctype",this.value)}),o.find(".select-layout").on("change",function(){var e=t.getSettingComponent(),i=e.find(".form-content");i.removeClass("form-inline form-horizontal"),this.value&&i.addClass(this.value),n.renderForm(e),o.find(".select-grid-wrapper").css("display","form-horizontal"===this.value?"block":"none")}),o.find(".select-grid").on("change",function(){var o=t.getSettingComponent();o.find(".form-content").attr("data-grid",this.value),n.renderForm(o)})},showSettingForm:function(o,t,n){e('showSettingForm "form" component',t);var i=t.find(".form-content"),l="";i.hasClass("form-inline")?l="form-inline":i.hasClass("form-horizontal")&&(l="form-horizontal"),o.find(".txt-form-action").val(i.attr("action")||""),o.find(".select-method").val(i.attr("method")||"get"),o.find(".select-enctype").val(i.attr("enctype")),o.find(".select-layout").val(l),o.find(".select-grid-wrapper").css("display","form-horizontal"===l?"block":"none"),o.find(".select-grid").val(i.attr("data-grid")||"4-8")}}}(jQuery),function(o){var t=o.keditor,e=t.log;t.components.googlemap={getContent:function(o,t){e('getContent "googlemap" component',o);var n=o.children(".keditor-component-content");return n.find(".googlemap-cover").remove(),n.html()},settingEnabled:!0,settingTitle:"Google Map Settings",initSettingForm:function(t,n){e('initSettingForm "googlemap" component'),t.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary btn-googlemap-edit">Update Map</button>       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-googlemap-169">16:9</button>           <button type="button" class="btn btn-sm btn-default btn-googlemap-43">4:3</button>       </div>   </div></form>'),t.find(".btn-googlemap-edit").on("click",function(t){t.preventDefault();var e=prompt("Please enter Google Map embed code in here:"),i=o(e),l=i.attr("src");i.length>0&&l&&l.length>0?n.getSettingComponent().find(".embed-responsive-item").attr("src",l):alert("Your Google Map embed code is invalid!")}),t.find(".btn-googlemap-169").on("click",function(o){o.preventDefault(),n.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")}),t.find(".btn-googlemap-43").on("click",function(o){o.preventDefault(),n.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")})}}}(jQuery),function(o){var t=o.keditor,e=t.log;t.components.photo={init:function(o,t,n,i){e('init "photo" component',n),n.children(".keditor-component-content").find("img").css("display","inline-block")},settingEnabled:!0,settingTitle:"Photo Settings",initSettingForm:function(o,t){e('initSettingForm "photo" component');var n=this,i=t.options;o.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary" id="photo-edit">Change Photo</button>           <input type="file" style="display: none" />       </div>   </div>   <div class="form-group">       <label for="photo-align" class="col-sm-12">Align</label>       <div class="col-sm-12">           <select id="photo-align" class="form-control">               <option value="left">Left</option>               <option value="center">Center</option>               <option value="right">Right</option>           </select>       </div>   </div>   <div class="form-group">       <label for="photo-style" class="col-sm-12">Style</label>       <div class="col-sm-12">           <select id="photo-style" class="form-control">               <option value="">None</option>               <option value="img-rounded">Rounded</option>               <option value="img-circle">Circle</option>               <option value="img-thumbnail">Thumbnail</option>           </select>       </div>   </div>   <div class="form-group">       <label for="photo-responsive" class="col-sm-12">Responsive</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-responsive" />       </div>   </div>   <div class="form-group">       <label for="photo-width" class="col-sm-12">Width</label>       <div class="col-sm-12">           <input type="number" id="photo-width" class="form-control" />       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="photo-height" class="form-control" />       </div>   </div></form>');var l=o.find("#photo-edit"),s=l.next();l.on("click",function(o){o.preventDefault(),s.trigger("click")}),s.on("change",function(){var o=this.files[0];if(/image/.test(o.type)){var e=new FileReader;e.addEventListener("load",function(o){var e=t.getSettingComponent().find("img");e.attr("src",o.target.result),e.css({width:"",height:""}),e.load(function(){t.showSettingPanel(t.getSettingComponent(),i)})}),e.readAsDataURL(this.files[0])}else alert("Your selected file is not photo!")}),o.find("#photo-align").on("change",function(){t.getSettingComponent().find(".photo-panel").css("text-align",this.value)}),o.find("#photo-responsive").on("click",function(){t.getSettingComponent().find("img")[this.checked?"addClass":"removeClass"]("img-responsive")}),o.find("#photo-style").on("change",function(){var o=t.getSettingComponent().find("img"),e=this.value;o.removeClass("img-rounded img-circle img-thumbnail"),e&&o.addClass(e)});var a=o.find("#photo-width"),r=o.find("#photo-height");a.on("change",function(){var o=t.getSettingComponent().find("img"),e=+this.value,i=Math.round(e/n.ratio);e<=0&&(e=n.width,i=n.height,this.value=e),o.css({width:e,height:i}),r.val(i)}),r.on("change",function(){var o=t.getSettingComponent().find("img"),e=+this.value,i=Math.round(e*n.ratio);e<=0&&(i=n.width,e=n.height,this.value=e),o.css({height:e,width:i}),a.val(i)})},showSettingForm:function(t,n,i){e('showSettingForm "photo" component',n);var l=this,s=t.find("#photo-align"),a=t.find("#photo-responsive"),r=t.find("#photo-width"),c=t.find("#photo-height"),d=t.find("#photo-style"),p=n.find(".photo-panel"),m=p.find("img"),u=p.css("text-align");"right"===u&&"center"===u||(u="left"),m.hasClass("img-rounded")?d.val("img-rounded"):m.hasClass("img-circle")?d.val("img-circle"):m.hasClass("img-thumbnail")?d.val("img-thumbnail"):d.val(""),s.val(u),a.prop("checked",m.hasClass("img-responsive")),r.val(m.width()),c.val(m.height()),o("<img />").attr("src",m.attr("src")).load(function(){l.ratio=this.width/this.height,l.width=this.width,l.height=this.height})}}}(jQuery),function(o){var t=jQuery.keditor,e=t.log;CKEDITOR.disableAutoInline=!0,t.components.text={options:{toolbarGroups:[{name:"document",groups:["mode","document","doctools"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"forms",groups:["forms"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},"/",{name:"clipboard",groups:["clipboard","undo"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"tools",groups:["tools"]},{name:"others",groups:["others"]}],title:!1,allowedContent:!0,bodyId:"editor",templates_replaceContent:!1,enterMode:"P",forceEnterMode:!0,format_tags:"p;h1;h2;h3;h4;h5;h6",minimumChangeMilliseconds:100},init:function(o,t,n,i){e('init "text" component',n);var l=i.options,s=n.children(".keditor-component-content");s.prop("contenteditable",!0),s.on("input",function(e){"function"==typeof l.onComponentChanged&&l.onComponentChanged.call(o,e,n),"function"==typeof l.onContainerChanged&&l.onContainerChanged.call(o,e,t),"function"==typeof l.onContentChanged&&l.onContentChanged.call(o,e)});var a=s.ckeditor(this.options).editor;a.on("instanceReady",function(){e("CKEditor is ready",n),"function"==typeof l.onComponentReady&&l.onComponentReady.call(o,n,a)})},getContent:function(o,t){e('getContent "text" component',o);var n=o.find(".keditor-component-content"),i=n.attr("id"),l=CKEDITOR.instances[i];return l?l.getData():n.html()},destroy:function(o,t){e('destroy "text" component',o);var n=o.find(".keditor-component-content").attr("id"),i=CKEDITOR.instances[n];i&&i.destroy()}}}(),function(o){var t=jQuery.keditor,e=t.log;t.components.video={init:function(o,t,n,i){e('init "video" component',n);var l=n.children(".keditor-component-content").find("video");l.parent().is(".video-wrapper")||l.wrap('<div class="video-wrapper"></div>')},getContent:function(o,t){e('getContent "video" component',o);var n=o.children(".keditor-component-content");return n.find("video").unwrap(),n.html()},settingEnabled:!0,settingTitle:"Video Settings",initSettingForm:function(o,t){e('init "video" settings',o),o.append('<form class="form-horizontal">    <div class="form-group">        <label for="videoFileInput" class="col-sm-12">Video file</label>        <div class="col-sm-12">            <div class="video-toolbar">                <a href="#" class="btn-videoFileInput btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>                <input id="videoFileInput" type="file" style="display: none">            </div>        </div>    </div>    <div class="form-group">        <label for="video-autoplay" class="col-sm-12">Autoplay</label>        <div class="col-sm-12">            <input type="checkbox" id="video-autoplay" />        </div>    </div>    <div class="form-group">        <label for="video-loop" class="col-sm-12">Loop</label>        <div class="col-sm-12">            <input type="checkbox" id="video-loop" />        </div>    </div>    <div class="form-group">        <label for="video-showcontrols" class="col-sm-12">Show Controls</label>        <div class="col-sm-12">            <input type="checkbox" id="video-showcontrols" checked />        </div>    </div>    <div class="form-group">        <label for="" class="col-sm-12">Ratio</label>        <div class="col-sm-12">            <input type="radio" name="video-radio" class="video-ratio" value="4/3" checked /> 4:3        </div>        <div class="col-sm-12">            <input type="radio" name="video-radio" class="video-ratio" value="16/9" /> 16:9        </div>    </div>    <div class="form-group">        <label for="video-width" class="col-sm-12">Width (px)</label>        <div class="col-sm-12">            <input type="number" id="video-width" min="320" max="1920" class="form-control" value="320" />        </div>    </div></form>')},showSettingForm:function(o,t,n){e('showSettingForm "video" settings',o,t);var i=n.options,l=t.find("video"),s=o.find("#videoFileInput");o.find(".btn-videoFileInput").on("click",function(o){o.preventDefault(),s.trigger("click")}),s.off("change").on("change",function(){var o=this.files[0];/video/.test(o.type)?(l.attr("src",URL.createObjectURL(o)),l.load(function(){n.showSettingPanel(t,i)})):alert("Your selected file is not an video file!")}),o.find("#video-autoplay").off("click").on("click",function(o){this.checked?l.prop("autoplay",!0):l.removeProp("autoplay")}),o.find("#video-loop").off("click").on("click",function(o){this.checked?l.prop("loop",!0):l.removeProp("loop")}),o.find(".video-ratio").off("click").on("click",function(o){if(this.checked){var t=l.css("width")||l.prop("width"),e=(t=t.replace("px",""))/("16/9"===this.value?16/9:4/3);l.css("width",t+"px"),l.css("height",e+"px"),l.removeProp("width"),l.removeProp("height")}}),o.find("#video-showcontrols").off("click").on("click",function(o){this.checked?l.attr("controls","controls"):l.removeAttr("controls")}),o.find("#video-width").off("change").on("change",function(){l.css("width",this.value+"px");var t="16/9"===o.find(".video-ratio:checked").val()?16/9:4/3,e=this.value/t;l.css("height",e+"px"),l.removeProp("width"),l.removeProp("height")})}}}(),function(o){var t=jQuery.keditor,e=t.log;t.components.vimeo={getContent:function(o,t){e('getContent "vimeo" component',o);var n=o.children(".keditor-component-content");return n.find(".vimeo-cover").remove(),n.html()},settingEnabled:!0,settingTitle:"Vimeo Settings",initSettingForm:function(o,t){e('initSettingForm "vimeo" component'),o.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary btn-vimeo-edit">Change Video</button>       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Autoplay</label>       <div class="col-sm-12">           <input type="checkbox" id="vimeo-autoplay" />       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-vimeo-169">16:9</button>           <button type="button" class="btn btn-sm btn-default btn-vimeo-43">4:3</button>       </div>   </div></form>'),o.find(".btn-vimeo-edit").on("click",function(o){o.preventDefault();var e=prompt("Please enter Vimeo URL in here:").match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/);e&&e[1]?t.getSettingComponent().find(".embed-responsive-item").attr("src","https://player.vimeo.com/video/"+e[1]+"?byline=0&portrait=0&badge=0"):alert("Your Vimeo URL is invalid!")}),o.find(".btn-vimeo-169").on("click",function(o){o.preventDefault(),t.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")}),o.find(".btn-vimeo-43").on("click",function(o){o.preventDefault(),t.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")});var n=o.find("#vimeo-autoplay");n.on("click",function(){var o=t.getSettingComponent().find(".embed-responsive-item"),i=o.attr("src"),l=i.replace(/(\?.+)+/,"")+"?byline=0&portrait=0&badge=0&autoplay="+(n.is(":checked")?1:0);e("Current url: "+i,"New url: "+l),o.attr("src",l)})},showSettingForm:function(o,t,n){e('showSettingForm "vimeo" component',t);var i=t.find(".embed-responsive-item"),l=o.find("#vimeo-autoplay"),s=i.attr("src");l.prop("checked",-1!==s.indexOf("autoplay=1"))}}}(),function(o){var t=jQuery.keditor,e=t.log;t.components.youtube={getContent:function(o,t){e('getContent "youtube" component',o);var n=o.children(".keditor-component-content");return n.find(".youtube-cover").remove(),n.html()},settingEnabled:!0,settingTitle:"Youtube Settings",initSettingForm:function(o,t){e('initSettingForm "youtube" component'),o.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary btn-youtube-edit">Change Video</button>       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Autoplay</label>       <div class="col-sm-12">           <input type="checkbox" id="youtube-autoplay" />       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-youtube-169">16:9</button>           <button type="button" class="btn btn-sm btn-default btn-youtube-43">4:3</button>       </div>   </div></form>'),o.find(".btn-youtube-edit").on("click",function(o){o.preventDefault();var e=prompt("Please enter Youtube URL in here:").match(/^(?:http(?:s)?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\/))([^\?&\"'>]+)/);e&&e[1]?t.getSettingComponent().find(".embed-responsive-item").attr("src","https://www.youtube.com/embed/"+e[1]):alert("Your Youtube URL is invalid!")}),o.find(".btn-youtube-169").on("click",function(o){o.preventDefault(),t.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")}),o.find(".btn-youtube-43").on("click",function(o){o.preventDefault(),t.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")});var n=o.find("#youtube-autoplay");n.on("click",function(){var o=t.getSettingComponent().find(".embed-responsive-item"),i=o.attr("src"),l=i.replace(/(\?.+)+/,"")+"?autoplay="+(n.is(":checked")?1:0);e("Current url: "+i,"New url: "+l),o.attr("src",l)})},showSettingForm:function(o,t,n){e('showSettingForm "youtube" component',t);var i=t.find(".embed-responsive-item"),l=o.find("#youtube-autoplay"),s=i.attr("src");l.prop("checked",-1!==s.indexOf("autoplay=1"))}}}();